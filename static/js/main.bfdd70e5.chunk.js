(this.webpackJsonpJM_aviasales=this.webpackJsonpJM_aviasales||[]).push([[0],{37:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAICAYAAADN5B7xAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC5SURBVHgBjY7NDYJAEIVn9qwRO1grUDvQEqxAznrRCtQKiAfwaKzAWAEl2MJ2oJE1iIF9LkH8iST4bjP53g/TH5JbOHzTe2TmIGrhTSw5voYEGhCLFtfCyEIiSICWatpcCelrVwba+4F93XvBxG4O539BbLpMmHWC6Ci9k1MkRwP7szOMgyTtq0ljVwbxE1iwrbSnYkNrCNhGKCTZUM3b6rOZ33tLU65q+MtQ7L64TDzGPR1Z+EwVegAaYFmyhe9bkAAAAABJRU5ErkJggg=="},38:function(e,n,t){e.exports=t.p+"static/media/main-logo.d2a4807b.png"},39:function(e,n,t){e.exports=t(86)},85:function(e,n,t){},86:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(31),i=t.n(c),o=t(10),u=t.n(o),l=t(12),s=t(11),p=t(13),f=t(7),d=t(14),x=t(2),m=t(9),b=t(3),h=t(32),g=t.n(h),v=t(33),j=t.n(v),k=function(){var e=Object(p.a)(u.a.mark((function e(n){var t,a,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:5,a=function(){var e=Object(p.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.a.get(n));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=2,e.next=5,a();case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(2),0!==t){e.next=12;break}throw new Error(e.t0,"AttemptsLimitExceeded");case 12:return e.abrupt("return",k(n,t-1));case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(n){return e.apply(this,arguments)}}(),O=t(89),w=t(88);function A(){var e=Object(x.a)(["\n  color: #4a4a4a;\n  font-size: 14px;\n  margin: 0;\n  text-transform: uppercase;\n"]);return A=function(){return e},e}function E(){var e=Object(x.a)(["\n  color: #a0b0b9;\n  font-size: 12px;\n  margin: 0;\n  text-transform: uppercase;\n"]);return E=function(){return e},e}function y(){var e=Object(x.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  align-content: space-between;\n  margin: 10px 0px 0px 0px;\n  \n  @media (max-width: 375px) {\n    grid-template-columns: 1fr;\n  }\n"]);return y=function(){return e},e}var T=b.a.div(y()),C=b.a.p(E()),F=b.a.p(A()),B=function(e){return e.segments.map((function(e){var n=e.date,t=e.destination,a=e.duration,c=e.origin,i=e.stops,o="".concat(c," - ").concat(t),u=new Date(n),l=Object(O.a)(u,"HH:mm"),s=Object(w.a)(u,a),p=Object(O.a)(s,"HH:mm"),f="".concat(l," - ").concat(p),d=Math.floor(a/60),x=a%60,b="".concat(d,"\u0447 ").concat(x,"\u043c");return r.a.createElement(T,{key:Object(m.uniqueId)()},r.a.createElement("div",{className:"info-element"},r.a.createElement(C,null,o),r.a.createElement(F,null,f)),r.a.createElement("div",{className:"info-element"},r.a.createElement(C,null,"\u0432 \u043f\u0443\u0442\u0438"),r.a.createElement(F,null,b)),r.a.createElement("div",{className:"info-element"},r.a.createElement(C,null,0===i.length?"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a":1===i.length?"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430":"".concat(i.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")),r.a.createElement(F,null,i.join(", "))))}))};function I(){var e=Object(x.a)(["\n  display: grid;\n  grid-column: -1 / -2;\n"]);return I=function(){return e},e}function N(){var e=Object(x.a)(["\n  color: #2196f3;\n  font-size: 24px;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-template-rows: 1fr;\n  margin-bottom: 10px;\n  \n  @media (max-width: 375px) {\n    grid-template-columns: 1fr 1fr;\n    grid-column: 1 / 3;\n  }\n"]);return N=function(){return e},e}function S(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-basis: 142px;\n  background-color: white;\n  margin: 20px 0px 0px 0px;\n  padding: 20px 20px 20px 20px;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  align-content: space-between;\n  \n  @media (max-width: 375px) {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n  }\n  \n"]);return S=function(){return e},e}function q(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-basis: 100%;\n"]);return q=function(){return e},e}var J=b.a.div(q()),M=b.a.div(S()),z=b.a.div(N()),H=b.a.div(I()),P=function(e){var n=e.tickets;return r.a.createElement(J,null,0===n.length?null:n.map((function(e,n){if(n>=5)return!1;var t=e.id,a=e.price,c=e.carrier,i=e.segments,o="https://pics.avs.io/99/36/".concat(c,".png"),u=a.toLocaleString().split(",").join(" ");return r.a.createElement(M,{key:t},r.a.createElement(z,null,r.a.createElement("span",null,"".concat(u," \u0420")),r.a.createElement(H,null,r.a.createElement("img",{src:o,alt:"aero-brand"}))),r.a.createElement(B,{segments:i}))})))};P.defaultProps={tickets:[]};var R=P;function U(){var e=Object(x.a)(["\n    ","\n    border-radius: 0px 5px 5px 0px;\n  "]);return U=function(){return e},e}function V(){var e=Object(x.a)(["\n    ","\n    border-radius: 5px 0px 0px 5px;\n  "]);return V=function(){return e},e}function L(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n  text-align: center;\n  line-height: 50px;\n  flex-basis: 50px;\n  text-transform: uppercase;\n  font-size: 12px;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n"]);return L=function(){return e},e}var Y=b.a.div(L()),G="\n    color: #4A4A4A;\n    background-color: #FFFFFF;\n    height: inherit;\n    flex-grow: 1;\n    cursor: pointer;\n  ",Q="\n    color: #FFFFFF;\n    background-color: #2196F3;\n    height: inherit;\n    flex-grow: 1;\n  ",W=function(e){var n=e.priceFilter,t=e.changePriceFilter,a=e.sortVisibleTicketsBy,c=b.a.div(V(),"cheapest"===n?Q:G),i=b.a.div(U(),"fastest"===n?Q:G),o=function(e){switch(e.target.getAttribute("name")){case"cheapest":t("cheapest"),a("cheapest");break;case"fastest":t("fastest"),a("fastest");break;default:t("cheapest")}};return r.a.createElement(Y,null,r.a.createElement(c,{name:"cheapest",onClick:o},"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"),r.a.createElement(i,{name:"fastest",onClick:o},"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"))};W.defaultProps={priceFilter:"cheapest",changePriceFilter:null,sortVisibleTicketsBy:null};var D=W,K=t(37),X=t.n(K);function Z(){var e=Object(x.a)(["\n  padding: 10px 20px;\n  cursor: pointer;\n  background-color: #ffffff;\n  \n  &:hover {\n    background-color: #f1fcff;\n  }\n  \n  & > input[type='checkbox'] {\n    display: none;\n  }\n  \n  & > input[type='checkbox'] + label span {\n    display: inline-block;\n    width: 20px;\n    height: 20px;\n    margin: -1px 10px 0 0;\n    vertical-align: middle;\n    cursor: pointer;\n    border-radius: 2px;\n    border: 1px solid #9abbce;\n  }\n  & > label {\n    cursor: pointer;\n  }\n  & > input[type='checkbox']:checked + label span {\n    background: url(",") center center no-repeat;\n    border: 1px solid #2196f3;\n  }\n"]);return Z=function(){return e},e}function _(){var e=Object(x.a)(["\n  \n  @media (max-width: 600px) {\n    display: flex;\n    flex-direction: row;\n  }\n"]);return _=function(){return e},e}function $(){var e=Object(x.a)(["\n  padding-left: 20px;\n  padding-bottom: 5px;\n"]);return $=function(){return e},e}function ee(){var e=Object(x.a)(["\n  max-width: 190px;\n  max-height: 212px;\n  height: 200px;\n  flex-grow: 1;\n  height: 252px;\n  margin-right: 20px;\n  background-color: white;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  padding: 20px 0px 20px 0px;\n  display: flex;\n  flex-direction: column;\n  \n  @media (max-width: 600px) {\n    flex-direction: column;\n    max-height: 100px;\n    max-width: 100vw;\n    margin: 0px 0px 20px 0px;\n    height: auto;\n    flex-basis: 100%;\n    \n    & > span {\n      display: flex;\n      flex-direction: column;\n      text-align: center;\n      padding-left: 0px;\n      padding-bottom: 0px;\n    }\n    \n    & > div {\n      display: grid;\n      grid-template-columns: 1fr 1fr 1fr;\n      grid-gap: 10px;\n      margin-top: 10px;\n      padding: 0px 0px 0px 40px;\n    }\n    & > div > div {\n      padding: 0;\n    }\n  }\n  \n  @media (max-width: 470px) {\n    max-height: 200px;\n    & > div {\n      grid-template-columns: 1fr 1fr;\n      padding: 0px 0px 0px 30px;\n    }\n  }\n  \n  @media (max-width: 360px) {\n    & > div {\n      grid-template-columns: 1fr;\n      padding: 0px 0px 0px 20px;\n    }\n  }\n"]);return ee=function(){return e},e}var ne=b.a.div(ee()),te=b.a.span($()),ae=b.a.div(_()),re=b.a.div(Z(),X.a),ce=function(e){var n=e.changeCheckboxes,t=e.checkboxes,a=function(e){var a=e.target.checked,r=e.target.name;if("all"!==r){var c=t.map((function(e){return e.checkboxType===r?Object(s.a)(Object(s.a)({},e),{},{isChecked:a}):e}));n((function(){return c}))}else{var i=t.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{isChecked:a})}));n((function(){return i}))}};return r.a.createElement(ne,null,r.a.createElement(te,null,"\u041a\u041e\u041b\u0418\u0427\u0415\u0421\u0422\u0412\u041e \u041f\u0415\u0420\u0415\u0421\u0410\u0414\u041e\u041a"),r.a.createElement(ae,null,t.map((function(e){return r.a.createElement(re,{key:e.id,className:"checkbox-wrap"},r.a.createElement("input",{checked:e.isChecked,type:"checkbox",className:"filter-checkbox",id:e.checkboxType,name:e.checkboxType,onChange:a}),r.a.createElement("label",{htmlFor:e.checkboxType},r.a.createElement("span",null),e.title))}))))};ce.defaultProps={changeCheckboxes:null,checkboxes:[]};var ie=ce,oe=t(38),ue=t.n(oe);function le(){var e=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-basis: 100%;\n"]);return le=function(){return e},e}function se(){var e=Object(x.a)(["\n  margin: 30px auto 30px auto;\n  text-align: center;\n"]);return se=function(){return e},e}function pe(){var e=Object(x.a)(["\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n"]);return pe=function(){return e},e}function fe(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n  max-width: 768px;\n  margin: 0px auto 0px auto;\n  color: #4a4a4a;\n  \n  @media (max-width: 600px) {\n    flex-direction: column;\n  }\n"]);return fe=function(){return e},e}var de=b.a.div(fe()),xe=b.a.div(pe()),me=b.a.div(se()),be=b.a.div(le()),he=[{isChecked:!0,title:"\u0412\u0441\u0435",checkboxType:"all",id:Object(m.uniqueId)()},{isChecked:!0,title:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a",checkboxType:"noTransfer",id:Object(m.uniqueId)()},{isChecked:!0,title:"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430",checkboxType:"oneTransfer",id:Object(m.uniqueId)()},{isChecked:!0,title:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",checkboxType:"twoTransfer",id:Object(m.uniqueId)()},{isChecked:!0,title:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",checkboxType:"threeTransfer",id:Object(m.uniqueId)()}],ge={noTransfer:[],oneTransfer:[],twoTransfer:[],threeTransfer:[]},ve=function(){var e=Object(a.useState)(he),n=Object(d.a)(e,2),t=n[0],c=n[1],i=Object(a.useState)("cheapest"),o=Object(d.a)(i,2),x=o[0],b=o[1],h=Object(a.useState)(ge),v=Object(d.a)(h,2),j=v[0],O=v[1],w=Object(a.useState)([]),A=Object(d.a)(w,2),E=A[0],y=A[1],T=Object(a.useState)(!0),C=Object(d.a)(T,2),F=C[0],B=C[1],I=function(e){var n;switch(e){case"cheapest":n=function(e){return Object(m.sortBy)(e,["price"])};break;case"fastest":n=function(e){return Object(m.sortBy)(e,["segments[0].duration"])};break;default:n=function(e){return Object(m.sortBy)(e,(function(e){return e.price}))}}y((function(e){return Object(f.a)(n(e))}))},N=function(){y((function(){return Object(f.a)(function(){var e=[];return t.forEach((function(n){var t=n.isChecked,a=n.checkboxType;"all"!==a&&!0===t&&(e=[].concat(Object(f.a)(e),Object(f.a)(j[a])))})),Object(f.a)(e)}())})),I(x)},S=function(){var e=Object(p.a)(u.a.mark((function e(){var n,t,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.keys(ge),t="https://front-test.beta.aviasales.ru/",e.next=4,k("".concat(t,"search"));case 4:return a=e.sent,r=a.data.searchId,c=function(){var e=Object(p.a)(u.a.mark((function e(){var a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("".concat(t,"tickets?searchId=").concat(r));case 2:if(a=e.sent,i=a.data.tickets.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{id:Object(m.uniqueId)()})})),O((function(e){var t;return t={},Object(l.a)(t,n[0],[].concat(Object(f.a)(e[n[0]]),Object(f.a)(i.filter((function(e){return 0===e.segments[0].stops.length}))))),Object(l.a)(t,n[1],[].concat(Object(f.a)(e[n[1]]),Object(f.a)(i.filter((function(e){return 1===e.segments[0].stops.length}))))),Object(l.a)(t,n[2],[].concat(Object(f.a)(e[n[2]]),Object(f.a)(i.filter((function(e){return 2===e.segments[0].stops.length}))))),Object(l.a)(t,n[3],[].concat(Object(f.a)(e[n[3]]),Object(f.a)(i.filter((function(e){return 3===e.segments[0].stops.length}))))),t})),!0===a.data.stop&&B(!1),!1!==a.data.stop){e.next=9;break}return e.next=9,c();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=9,c();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){!0===F&&S(),!1===F&&N()}),[F,t,x]);return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement(me,{className:"main-logo-wrapper"},r.a.createElement("img",{src:ue.a,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f aviasales"})),r.a.createElement(de,null,r.a.createElement(ie,{checkboxes:t,changeCheckboxes:c}),r.a.createElement(xe,null,r.a.createElement(D,{priceFilter:x,changePriceFilter:b,sortVisibleTicketsBy:I}),!0===F?r.a.createElement(be,null,r.a.createElement(g.a,{type:"Bars",color:"#2196F3",height:100,width:100})):r.a.createElement(R,{tickets:E}))))};t(85),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.bfdd70e5.chunk.js.map