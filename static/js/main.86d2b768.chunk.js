(this.webpackJsonpJM_aviasales=this.webpackJsonpJM_aviasales||[]).push([[0],{37:function(e,n,t){e.exports=t.p+"static/media/main-logo.d2a4807b.png"},38:function(e,n,t){e.exports=t(86)},84:function(e,n,t){},85:function(e,n,t){},86:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(31),o=t.n(c),i=t(2),s=t(9),u=t(14),l=t(11),f=t.n(l),p=t(13),b=t(3),h=t(32),d=t.n(h),x=t(10),m=t(4),g=t(33),v=t.n(g),j=t(89),O=t(88);function k(){var e=Object(b.a)(["\n  color: #4A4A4A;\n  font-size: 14px;\n  margin: 0;\n  text-transform: uppercase;\n"]);return k=function(){return e},e}function w(){var e=Object(b.a)(["\n  color: #A0B0B9;\n  font-size: 12px;\n  margin: 0;\n  text-transform: uppercase;\n"]);return w=function(){return e},e}function T(){var e=Object(b.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  align-content: space-between;\n  margin: 10px 0px 0px 0px;\n"]);return T=function(){return e},e}var E=m.a.div(T()),y=m.a.p(w()),F=m.a.p(k()),C=function(e){return e.segments.map((function(e){var n=e.date,t=e.destination,r=e.duration,c=e.origin,o=e.stops,i="".concat(c," - ").concat(t),s=new Date(n),u=Object(j.a)(s,"HH:mm"),l=Object(O.a)(s,r),f=Object(j.a)(l,"HH:mm"),p="".concat(u," - ").concat(f),b=Math.floor(r/60),h=r%60,d="".concat(b,"\u0447 ").concat(h,"\u043c");return a.a.createElement(E,{key:Object(x.uniqueId)()},a.a.createElement("div",{className:"info-element"},a.a.createElement(y,null,i),a.a.createElement(F,null,p)),a.a.createElement("div",{className:"info-element"},a.a.createElement(y,null,"\u0432 \u043f\u0443\u0442\u0438"),a.a.createElement(F,null,d)),a.a.createElement("div",{className:"info-element"},a.a.createElement(y,null,0===o.length?"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a":1===o.length?"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430":"".concat(o.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")),a.a.createElement(F,null,o.join(", "))))}))};function B(){var e=Object(b.a)(["\n  display: grid;\n  grid-column: -1 / -2;\n"]);return B=function(){return e},e}function A(){var e=Object(b.a)(["\n  color: #2196F3;\n  font-size: 24px;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-template-rows: 1fr;\n  margin-bottom: 10px;\n"]);return A=function(){return e},e}function P(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-basis: 142px;\n  background-color: white;\n  margin: 20px 0px 0px 0px;\n  padding: 20px 20px 20px 20px;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  align-content: space-between;\n"]);return P=function(){return e},e}function N(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-basis: 100%;\n"]);return N=function(){return e},e}var I=m.a.div(N()),M=m.a.div(P()),z=m.a.div(A()),D=m.a.div(B()),H=function(e){var n=e.tickets;return a.a.createElement(I,null,0===n.length?null:n.map((function(e,n){if(n>=5)return!1;var t=e.price,r=e.carrier,c=e.segments,o="https://pics.avs.io/99/36/".concat(r,".png");return a.a.createElement(M,{key:Object(x.uniqueId)()},a.a.createElement(z,null,a.a.createElement("span",null,t),a.a.createElement(D,null,a.a.createElement("img",{src:o,alt:"aero-brand"}))),a.a.createElement(C,{segments:c}))})))};H.defaultProps={tickets:[]};var J=H;function S(){var e=Object(b.a)(["\n    ","\n    border-radius: 0px 5px 5px 0px;\n  "]);return S=function(){return e},e}function q(){var e=Object(b.a)(["\n    ","\n    border-radius: 5px 0px 0px 5px;\n  "]);return q=function(){return e},e}function L(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: row;\n  text-align: center;\n  line-height: 50px;\n  flex-basis: 50px;\n  text-transform: uppercase;\n  font-size: 12px;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n"]);return L=function(){return e},e}var W=m.a.div(L()),_="\n    color: #4A4A4A;\n    background-color: #FFFFFF;\n    height: inherit;\n    flex-grow: 1;\n  ",V="\n    color: #FFFFFF;\n    background-color: #2196F3;\n    height: inherit;\n    flex-grow: 1;\n  ",$=function(e){var n=e.priceFilter,t=e.changePriceFilter,r=e.sortByDuration,c=e.sortByPrice,o=m.a.div(q(),"cheapest"===n?V:_),i=m.a.div(S(),"fastest"===n?V:_),s=function(e){switch(e.target.getAttribute("name")){case"cheapest":t("cheapest"),c();break;case"fastest":t("fastest"),r();break;default:t("cheapest")}};return a.a.createElement(W,null,a.a.createElement(o,{name:"cheapest",onClick:s},"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"),a.a.createElement(i,{name:"fastest",onClick:s},"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"))};$.defaultProps={priceFilter:"cheapest",changePriceFilter:null,sortByDuration:null,sortByPrice:null};var G=$,K=t(15);t(84);function Q(){var e=Object(b.a)(["\n  padding-left: 20px;\n  padding-bottom: 5px;\n"]);return Q=function(){return e},e}function R(){var e=Object(b.a)(["\n  max-width: 190px;\n  max-height: 212px;\n  height: 200px;\n  flex-grow: 1;\n  height: 252px;\n  margin-right: 20px;\n  background-color: white;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  padding: 20px 0px 20px 0px;\n  display: flex;\n  flex-direction: column;\n"]);return R=function(){return e},e}var U=m.a.div(R()),X=m.a.span(Q()),Y=function(e){e.target.style.background="#F1FCFF"},Z=function(e){e.target.style.background="#FFFFFF"},ee=function(e){var n=e.changeCheckboxes,t=e.checkboxes,r=function(e){var t=e.target.checked,r=e.target.name;n("all"!==r?function(e){return Object(i.a)(Object(i.a)({},e),{},Object(K.a)({},r,Object(i.a)(Object(i.a)({},e[r]),{},{isChecked:t})))}:function(e){return{all:Object(i.a)(Object(i.a)({},e.all),{},{isChecked:t}),noTransfer:Object(i.a)(Object(i.a)({},e.noTransfer),{},{isChecked:t}),oneTransfer:Object(i.a)(Object(i.a)({},e.oneTransfer),{},{isChecked:t}),twoTransfer:Object(i.a)(Object(i.a)({},e.twoTransfer),{},{isChecked:t}),threeTransfer:Object(i.a)(Object(i.a)({},e.threeTransfer),{},{isChecked:t})}})};return a.a.createElement(U,null,a.a.createElement(X,null,"\u041a\u041e\u041b\u0418\u0427\u0415\u0421\u0422\u0412\u041e \u041f\u0415\u0420\u0415\u0421\u0410\u0414\u041e\u041a"),Object.values(t).map((function(e){return a.a.createElement("div",{onMouseEnter:Y,onMouseLeave:Z,key:Object(x.uniqueId)(),className:"checkbox-wrap"},a.a.createElement("input",{checked:e.isChecked,type:"checkbox",className:"filter-checkbox",id:e.checkboxType,name:e.checkboxType,onChange:r}),a.a.createElement("label",{htmlFor:e.checkboxType},a.a.createElement("span",null),e.title))})))};ee.defaultProps={changeCheckboxes:null,checkboxes:{}};var ne=ee,te=t(37),re=t.n(te);function ae(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-basis: 100%;\n"]);return ae=function(){return e},e}function ce(){var e=Object(b.a)(["\n  margin: 30px auto 30px auto;\n  text-align: center;\n"]);return ce=function(){return e},e}function oe(){var e=Object(b.a)(["\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n"]);return oe=function(){return e},e}function ie(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: row;\n  max-width: 768px;\n  margin: 0px auto 0px auto;\n  color: #4A4A4A;\n"]);return ie=function(){return e},e}var se=m.a.div(ie()),ue=m.a.div(oe()),le=m.a.div(ce()),fe=m.a.div(ae()),pe={all:{isChecked:!0,title:"\u0412\u0441\u0435",checkboxType:"all"},noTransfer:{isChecked:!0,title:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a",checkboxType:"noTransfer"},oneTransfer:{isChecked:!0,title:"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430",checkboxType:"oneTransfer"},twoTransfer:{isChecked:!0,title:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",checkboxType:"twoTransfer"},threeTransfer:{isChecked:!0,title:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",checkboxType:"threeTransfer"}},be={noTransfer:[],oneTransfer:[],twoTransfer:[],threeTransfer:[],show:[]},he=function(){var e=Object(p.a)(f.a.mark((function e(n){var t,r,a=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:5,r=function(){var e=Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.a.get(n));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=2,e.next=5,r();case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(2),0!==t){e.next=12;break}throw new Error(e.t0,"AttemptsLimitExceeded");case 12:return e.abrupt("return",he(n,t-1));case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(n){return e.apply(this,arguments)}}(),de=function(){var e=Object(r.useState)(pe),n=Object(u.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)("cheapest"),l=Object(u.a)(o,2),b=l[0],h=l[1],d=Object(r.useState)(be),m=Object(u.a)(d,2),g=m[0],j=m[1],O=Object(r.useState)(!0),k=Object(u.a)(O,2),w=k[0],T=k[1],E=function(){var e=function(e){var n=[];return Object.entries(t).forEach((function(t){var r=t[0],a=t[1].isChecked;"all"!==r&&!0===a&&(n=[].concat(Object(s.a)(n),Object(s.a)(e[r])))})),Object(s.a)(n)};j((function(n){return Object(i.a)(Object(i.a)({},n),{},{show:e(n)})}))},y=function(){var e=function(e){return Object(x.sortBy)(e,(function(e){return e.price}))};j((function(n){return Object(i.a)(Object(i.a)({},n),{},{noTransfer:e(n.noTransfer),oneTransfer:e(n.oneTransfer),twoTransfer:e(n.twoTransfer),threeTransfer:e(n.threeTransfer)})})),E()},F=function(){var e=Object(p.a)(f.a.mark((function e(){var n,t,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("https://front-test.beta.aviasales.ru/search");case 2:return n=e.sent,t=n.data.searchId,r=function(){var e=Object(p.a)(f.a.mark((function e(){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(t));case 2:if(n=e.sent,a=n.data.tickets,j((function(e){return Object(i.a)(Object(i.a)({},e),{},{noTransfer:[].concat(Object(s.a)(e.noTransfer),Object(s.a)(a.filter((function(e){return 0===e.segments[0].stops.length})))),oneTransfer:[].concat(Object(s.a)(e.oneTransfer),Object(s.a)(a.filter((function(e){return 1===e.segments[0].stops.length})))),twoTransfer:[].concat(Object(s.a)(e.twoTransfer),Object(s.a)(a.filter((function(e){return 2===e.segments[0].stops.length})))),threeTransfer:[].concat(Object(s.a)(e.threeTransfer),Object(s.a)(a.filter((function(e){return 3===e.segments[0].stops.length}))))})})),!0===n.data.stop&&(y(),T(!1)),!1!==n.data.stop){e.next=9;break}return e.next=9,r();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=7,r();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){F()}),[]),Object(r.useEffect)((function(){E()}),[t]);return a.a.createElement("div",{className:"main-wrapper"},a.a.createElement(le,{className:"main-logo-wrapper"},a.a.createElement("img",{src:re.a,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f aviasales"})),a.a.createElement(se,null,a.a.createElement(ne,{checkboxes:t,changeCheckboxes:c,setVisibleTickets:E}),a.a.createElement(ue,null,a.a.createElement(G,{priceFilter:b,changePriceFilter:h,sortByDuration:function(){var e=function(e){return Object(x.sortBy)(e,(function(e){return e.segments[0].duration}))};j((function(n){return Object(i.a)(Object(i.a)({},n),{},{noTransfer:e(n.noTransfer),oneTransfer:e(n.oneTransfer),twoTransfer:e(n.twoTransfer),threeTransfer:e(n.threeTransfer)})})),E()},sortByPrice:y}),!0===w?a.a.createElement(fe,null,a.a.createElement(v.a,{type:"Bars",color:"#2196F3",height:100,width:100})):a.a.createElement(J,{tickets:g.show}))))};t(85),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.86d2b768.chunk.js.map